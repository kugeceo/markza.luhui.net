# Markza 标志自由绘制功能说明

## 功能概述

我们为Markza标志创建工具添加了强大的自由绘制功能，允许用户通过直观的界面绘制自定义标志，并将绘制的标志导入到主界面中使用。

## 如何访问自由绘制功能

有两种方式可以访问自由绘制功能：

1. **通过主界面按钮访问**（推荐）：
   - 打开Markza标志创建工具的主界面
   - 在界面右下角会显示"自由绘制标志"按钮
   - 点击该按钮会打开自由绘制功能窗口

2. **直接访问演示页面**：
   - 在浏览器中输入：`http://localhost:8000/freedraw-demo.html`
   - 直接进入自由绘制功能界面

3. **测试页面**：
   - 我们还提供了一个测试页面，展示完整的功能流程
   - 访问：`http://localhost:8000/test-draw-functionality.html`

## 自由绘制功能使用指南

### 绘制工具

在自由绘制界面，您可以使用以下工具：

- **自由绘制**：使用鼠标或触摸设备在画布上自由绘制
- **颜色选择器**：选择绘制线条的颜色
- **线宽调整**：调整绘制线条的粗细
- **清除画布**：清空当前画布内容，重新开始绘制
- **撤销操作**：撤销上一步绘制操作

### 导出功能

绘制完成后，您可以：

- **导出为PNG图片**：将绘制的标志保存为PNG格式图片
- **导出为SVG文件**：将绘制的标志保存为SVG矢量格式文件

### 导入标志到主界面

1. 在自由绘制界面完成标志设计后
2. 点击"导入到主界面"按钮
3. 系统会显示"标志已成功导入！"的提示信息
4. 切换回主界面，您将看到导入的标志显示在预览区域中

## 技术实现说明

### 主要文件

- `/assets/js/freeDraw.js`：实现自由绘制核心功能的JavaScript文件
- `/assets/js/addDrawButton.js`：动态在主界面添加自由绘制按钮的脚本
- `/freedraw-demo.html`：自由绘制功能的独立演示页面
- `/test-draw-functionality.html`：完整功能流程的测试页面

### 数据传输机制

绘制的标志通过以下方式在不同界面间传输：

1. 当用户点击"导入到主界面"按钮时，绘制的标志会被转换为数据URL并存储在浏览器的localStorage中
2. 主界面通过监听消息事件接收导入通知
3. 接收到通知后，主界面从localStorage中读取标志数据并显示在预览区域

## 注意事项

1. 确保您的浏览器支持Canvas API和localStorage功能
2. 导入的标志会在页面刷新后仍然保留，直到您清除浏览器缓存或localStorage
3. SVG导出功能支持矢量图形，适合进行后续编辑和放大

## 常见问题解答

### Q: 为什么我在主界面看不到"自由绘制标志"按钮？
A: 尝试刷新页面，或者直接访问`/test-draw-functionality.html`测试页面体验完整功能。

### Q: 导出的SVG文件可以在其他设计软件中编辑吗？
A: 是的，导出的SVG文件是标准矢量格式，可以在Adobe Illustrator、Inkscape等软件中打开和编辑。

### Q: 如何清除导入的标志？
A: 您可以刷新页面或手动清除浏览器的localStorage数据。

---

如有任何问题或建议，请联系技术支持。